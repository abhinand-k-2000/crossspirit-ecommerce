<%- include('../layouts/header') %>


		<!--start page wrapper -->
		<div class="page-wrapper">
			<div class="page-content">
				<!--start breadcrumb-->

				<section class="py-3 border-bottom border-top d-none d-md-flex bg-light">
					<div class="container">
						<div class="page-breadcrumb d-flex align-items-center">
							<h3 class="breadcrumb-title pe-3">Sign Up</h3>
							<div class="ms-auto">
								<nav aria-label="breadcrumb">
									<ol class="breadcrumb mb-0 p-0">
										<li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i> Home</a>
										</li>
										<li class="breadcrumb-item"><a href="javascript:;">Authentication</a>
										</li>
										<li class="breadcrumb-item active" aria-current="page">Sign Up</li>
									</ol>
								</nav>
							</div>
						</div>
					</div>
				</section>
				<!--end breadcrumb-->
			
				<!--start shop cart-->
				<section class="py-0 py-lg-5">
					<div class="container">
						<div class="section-authentication-signin d-flex align-items-center justify-content-center my-5">
							<div class="row row-cols-1 row-cols-lg-1 row-cols-xl-2">
								<div class="col mx-auto">
									<div class="card mb-0">
										<div class="card-body">
											<div class="border p-4 rounded">
												<div class="text-center">
													<h3 class="">Sign Up</h3>
													<p>Already have an account? <a href="/login">Sign in here</a>
													</p>
												</div>
												<!-- <div class="d-grid">
													<a class="btn my-4 shadow-sm btn-white" href="javascript:;"> <span class="d-flex justify-content-center align-items-center">
														<img class="me-2" src="userAssets/images/icons/search.svg" width="16" alt="Image Description">
														<span>Sign Up with Google</span>
														</span>
													</a> <a href="javascript:;" class="btn btn-white"><i class="bx bxl-facebook"></i>Sign Up with Facebook</a>
												</div> -->
												<!-- <div class="login-separater text-center mb-4 mt-3"> <span>OR SIGN UP WITH EMAIL</span>
													<hr/>
												</div> -->
												<div class="form-body">

													<!--Form for registration-->
													<!--  -->


													<form class="row g-3" method="POST" onsubmit="return validateForm()"

														<% if (typeof referralId !== 'undefined') { %>
															action='/register?referralId=<%= referralId %>'
														<% } else { %>
															action="/register"
														<% } %>

													>
														<div class="col-sm-12">
															<label for="inputFirstName" class="form-label">Name</label>
															<input type="text" class="form-control" id="inputFirstName" name="name" placeholder="Enter name" oninput="validateName()" >
															<span id="inputFirstNameError" class="text-danger"> </span>
														</div>
														<div class="col-12">
															<label for="inputEmailAddress" class="form-label">Email Address</label>
															<input type="text" class="form-control" id="inputEmailAddress" name="email" placeholder="Enter email" oninput="validateEmail()" >
															<span id="inputEmailAddressError" class="text-danger"></span>
														</div>

														<div class="col-sm-12">
															<label for="inputMobile" class="form-label">Mobile</label>
															<input type="tel" class="form-control" id="inputMobile" name="mobile" placeholder="Enter mobile no." oninput="validateMobile()" >
															<span id="inputMobileError" class="text-danger"></span>
														</div>
														<div class="col-12">
															<label for="inputChoosePassword" class="form-label">Password</label>
															<div class="input-group" id="show_hide_password">
																<input type="password" class="form-control border-end-0" id="inputChoosePassword" name="password" placeholder="Enter Password" oninput="validatePassword()" > 
																<button class="input-group-text toggle-icon bg-transparent" type="button" onclick="togglePasswordVisibility()"><i id="showIcon" class='bx bx-hide'></i></button>
																<!-- <a href="javascript:;" class="input-group-text toggle-icon bg-transparent"><i id="showIcon" class='bx bx-hide'></i></a> -->
															</div>
															<p id="inputChoosePasswordError" class="text-danger"></p>
														</div>
														<div class="col-12">
															<div class="d-grid">
																<button type="submit" class="btn btn-dark"><i class='bx bx-user'></i>Sign up</button>
															</div>
														</div>
													</form>

															


												</div>
												<%
															if(typeof message !== 'undefined'){
																%>
																<p class="text-center text-danger mt-3"> <%= message %></p>
																<%
															}
														%>
											</div>
										</div>
									</div>
								</div>
							</div>
							<!--end row-->
						</div>
					</div>
				</section>
				<!--end shop cart-->
			</div>
		</div>
		<!--end page wrapper -->
		<!--start footer section-->
		

		<!--end footer section-->
		<!--Start Back To Top Button-->
		 <!-- <a href="javaScript:;" class="back-to-top"><i class='bx bxs-up-arrow-alt'></i></a> -->
		<!--End Back To Top Button-->
	</div>
	<!--end wrapper-->
	

	<!-- Script file-->
	<script>


		//===========password visible toggle==============
		const toggleIcon = document.querySelector('.toggle-icon');
		const showIcon = document.getElementById('showIcon')
		toggleIcon.addEventListener('click', () =>{
			const passwordInput = document.getElementById('inputChoosePassword');
			if(passwordInput.type === 'password'){
				passwordInput.type = 'text';
				showIcon.className = 'bx bx-show'
			} else {
				passwordInput.type = 'password'
				showIcon.className = 'bx bx-hide'
			}
		})
		//===========password visible toggle==============

		function validateName() {
			var nameInput = document.getElementById('inputFirstName');
			var nameError = document.getElementById('inputFirstNameError');
			var name = nameInput.value.trim();
	
			// Regular expression to match only letters and spaces
			var nameRegex = /^[A-Za-z ]+$/;
	
			if (name === '') {
				nameError.innerText = 'Name is required.';
				nameInput.style.border = '1px solid red'; // Set border color to red on error
			} else if (!nameRegex.test(name)) {
				nameError.innerText = 'Enter a valid name';
				nameInput.style.border = '1px solid red'; // Set border color to red on error
			} else {
				nameError.innerText = ''; // Clear the error message
				nameInput.style.border = '1px solid #52CC7A'; // Reset border color
			}
		}
	
		function validateEmail() {
			var emailInput = document.getElementById('inputEmailAddress');
			var emailError = document.getElementById('inputEmailAddressError');
			var email = emailInput.value.trim();
	
			// Simple email validation (you can customize it based on your needs)
			// var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
			var emailRegex = /^[^\s@]+@gmail\.com$/;

	
			if (email === '') {
				emailError.innerText = 'Email is required.';
				emailInput.style.border = '1px solid red'; // Set border color to red on error
			} else if (!emailRegex.test(email)) {
				emailError.innerText = 'Enter a valid email address.';
				emailInput.style.border = '1px solid red'; // Set border color to red on error
			} else {
				emailError.innerText = ''; // Clear the error message
				emailInput.style.border = '1px solid #52CC7A'; // Reset border color
			}
		}
	
		function validateMobile() {
			var mobileInput = document.getElementById('inputMobile');
			var mobileError = document.getElementById('inputMobileError');
			var mobile = mobileInput.value.trim();
	
			// Simple mobile number validation (you can customize it based on your needs)
			// var mobileRegex = /^[0-9]{10}$/;
			var mobileRegex = /^(?!0+$)\d{10}$/;

	
			if (mobile === '') {
				mobileError.innerText = 'Mobile number is required.';
				mobileInput.style.border = '1px solid red'; // Set border color to red on error
			} else if (!mobileRegex.test(mobile)) {
				mobileError.innerText = 'Enter a valid mobile number.';
				mobileInput.style.border = '1px solid red'; // Set border color to red on error
			} else {
				mobileError.innerText = ''; // Clear the error message
				mobileInput.style.border = '1px solid #52CC7A'; // Reset border color
			}
		}
	
		function validatePassword() {
			var passwordInput = document.getElementById('inputChoosePassword');
			var passwordError = document.getElementById('inputChoosePasswordError');
			var button = document.querySelector('.toggle-icon');
			var password = passwordInput.value.trim();
	
			// Simple password validation (you can customize it based on your needs)
			// var passwordRegex = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;
			var passwordRegex = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d!@#$%^&*()_+]{8,}$/;

	
			if (password === '') {
				passwordError.innerText = 'Password is required.';
				passwordInput.style.border = '1px solid red';
				button.style.border = '1px solid red';
			} else if (!passwordRegex.test(password)) {
				passwordError.innerText = 'Password must be minimum 8 characters with letters, numbers, and special characters.';
				passwordInput.style.border = '1px solid red'; 
				button.style.border = '1px solid red';
			} else {
				passwordError.innerText = ''; 
				passwordInput.style.border = '1px solid #52CC7A'; 
				button.style.border = '1px solid #52CC7A'; 
			}
		}
	
		function validateForm() {
			// Call all individual validation functions
			validateName();
			validateEmail();
			validateMobile();
			validatePassword();
	
			// Check if any error message exists
			var errorMessages = document.querySelectorAll('[id$="Error"]');
			for (var i = 0; i < errorMessages.length; i++) {
				if (errorMessages[i].innerText.trim() !== '') {
					return false; // Prevent form submission if there are errors
				}
			}
	
			// If all validations pass, the form will be submitted
			return true;
		}
	</script>
	
	
	
	<%- include('../layouts/footer') %>