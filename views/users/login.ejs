<%- include('../layouts/header') %>

	
		<!--start page wrapper -->
		<div class="page-wrapper">
			<div class="page-content">
				<!--start breadcrumb-->
				<section class="py-3 border-bottom border-top d-none d-md-flex bg-light">
					<div class="container">
						<div class="page-breadcrumb d-flex align-items-center">
							<h3 class="breadcrumb-title pe-3">Sign in</h3>
							<div class="ms-auto">
								<nav aria-label="breadcrumb">
									<ol class="breadcrumb mb-0 p-0">
										<li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i> Home</a>
										</li>
										<li class="breadcrumb-item"><a href="javascript:;">Authentication</a>
										</li>
										<li class="breadcrumb-item active" aria-current="page">Sign In</li>
									</ol>
								</nav>
							</div>
						</div>
					</div>
				</section>
				<!--end breadcrumb-->
				<!--start shop cart-->
				<section class="">
					<div class="container">
						<div class="section-authentication-signin d-flex align-items-center justify-content-center my-5">
							<div class="row row-cols-1 row-cols-xl-2">
								<div class="col mx-auto">
									<div class="card">
										<div class="card-body">
											<div class="border p-4 rounded">
												<div class="text-center">
													<h3 class="">Sign in</h3>
													<p>Don't have an account yet? <a href="/register">Sign up here</a>
													</p>
												</div>
												<!-- <div class="d-grid">
													<a class="btn my-4 shadow-sm btn-white" href="javascript:;"> <span class="d-flex justify-content-center align-items-center">
														<img class="me-2" src="/images/icons/search.svg" width="16" alt="Image Description">
														<span>Sign in with Google</span>
														</span>
													</a> <a href="javascript:;" class="btn btn-white"><i class="bx bxl-facebook"></i>Sign in with Facebook</a>
												</div>
												<div class="login-separater text-center mb-4"> <span>OR SIGN IN WITH EMAIL</span>
													<hr/>
												</div> -->


												<div class="form-body">
													<form class="row g-3" action="/login" method="POST" onsubmit=" return validateForm()">
														<div class="col-12">
															<label for="inputEmailAddress" class="form-label">Email Address</label>
															<input type="text" class="form-control" id="inputEmailAddress" name="email" placeholder="Email Address" oninput="validateEmail()" >
															<span id="emailError" class="text-danger"></span>
														</div>
														<div class="col-12">
															<label for="inputChoosePassword" class="form-label">Enter Password</label>
															<div class="input-group" id="show_hide_password">
																<div class="input-group">
																	<input type="password" class="form-control border-end-0" id="inputChoosePassword" name="password" placeholder="Enter Password" oninput="validatePassword()" >
																	<button class="input-group-text toggle-icon bg-transparent" type="button" onclick="togglePasswordVisibility()"><i id="showIcon" class='bx bx-hide'></i></button>
																  </div>
															</div>
															<p id="passwordError" class="text-danger"></p>
														</div>
														<!-- <div class="col-md-6">
															<div class="form-check form-switch">
																<input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" checked>
																<label class="form-check-label" for="flexSwitchCheckChecked">Remember Me</label>
															</div>
														</div> -->
														<div class="col-md-6 text-end" >	<a href="/forgot-password">Forgot Password ?</a></div>
														
														<div class="col-12">
															<div class="d-grid">
																<button type="submit" class="btn btn-dark"><i class="bx bxs-lock-open"></i>Sign in</button>
															</div>
														</div>
														
													</form>
												</div>
												<%
															if(typeof message !== 'undefined'){
																%>
																<p class="text-center mt-3 text-danger"> <%= message %></p>
																<%
															}
														%>

											</div>
										</div>
									</div>
								</div>
							</div>
							<!--end row-->
						</div>
					</div>
				</section>
				<!--end shop cart-->
			</div>
		</div>
		<!--end page wrapper -->

		<!--start footer section-->
		


		<!--end footer section-->

		<!--Start Back To Top Button--> <a href="javaScript:;" class="back-to-top"><i class='bx bxs-up-arrow-alt'></i></a>
		<!--End Back To Top Button-->
	</div>
	<!--end wrapper-->

	<script>
		const toggleIcon = document.querySelector('.toggle-icon');
		const showIcon = document.querySelector('#showIcon');
		toggleIcon.addEventListener('click', () => {
			const passwordInput = document.getElementById('inputChoosePassword');
			if(passwordInput.type === 'password'){
				passwordInput.type = 'text';
				showIcon.className = 'bx bx-show'
			} else {
				passwordInput.type = 'password';
				showIcon.className = 'bx bx-hide'
			}
		})

		function validateEmail() {
			var emailInput = document.getElementById('inputEmailAddress');
			var emailError = document.getElementById('emailError');
			var email = emailInput.value.trim();

			var emailRegex = /^[^\s@]+@gmail\.com$/;

			if (email === '') {
				emailError.innerHTML = "Email is required";
				emailInput.style.border = '1px solid red';
				return false; 
			} else if (!emailRegex.test(email)) {
				emailError.innerHTML = "Enter a valid email";
				emailInput.style.border = '1px solid red';
				return false; 
			} else {
				emailError.innerHTML = '';
				emailInput.style.border = '1px solid #52CC7A';
				return true; 
			}
		}

function validatePassword() {
    var passwordInput = document.getElementById('inputChoosePassword');
    var passwordError = document.getElementById('passwordError');
	var button = document.querySelector('.toggle-icon');
    var password = passwordInput.value;

    if (password === '') {
        passwordError.innerHTML = 'Password is required'; 
        passwordInput.style.border = '1px solid red'; 
		button.style.border = '1px solid red';
        return false; 
    } else {
        passwordError.innerHTML = ''; 
        passwordInput.style.border = '1px solid #52CC7A';
		button.style.border = '1px solid #52CC7A'; 
        return true; 
    }
}

function validateForm() {
    if (validateEmail() && validatePassword()) {
        return true; 
    } else {
        return false;
    }
}






	</script>
	
	<%- include('../layouts/footer') %>